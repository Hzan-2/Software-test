# 描述：Livi Bank的app登陆步骤

-
  Step: Given
  Text: Livi Bank登录{user}账号{password}密码1
  Fixture: app
  Process:
    step1:
      Action: judge,click
      Element: ${LandingPage}${updateNotificationElement}
      TestData:
      Remarks: 判断更新弹窗按钮是否存在，存在即点击

    step2:
      Action: sleep
      Element:
      TestData: 2
      Remarks: 等待2

    step3:
      Action: click
      Element: ${LandingPage}${menuElement}
      TestData:
      Remarks: 点击右上角三点，进行切换账号

    step4:
      Action: click
      Element: ${LandingPage}${SwitchUserElement}
      TestData:
      Remarks: 点击切换账号

    step5:
      Action: click
      Element: ${LandingPage}${phoneInputElement}
      TestData:
      Remarks: 点击账号输入框

    step6:
      Action: input
      Element: ${LandingPage}${phoneInputElement}
      TestData: '{user}'
      Remarks: 输入账号

    step7:
      Action: click
      Element: ${LandingPage}${LoginButtonElement}
      TestData:
      Remarks: 点击登录

    step8:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step9:
      Action: judge,branch
      Element: ${LandingPage}${passwordInputElement}
      TestData:
      Remarks: 判断密码输入框元素是否存在，如果存在则走输入密码分支，如果不存在则走验证码分支
      ifbranchProcess:
        step1:
          Action: input
          Element: ${LandingPage}${passwordInputElement}
          TestData: '{password}'
          Remarks: 输入密码

        step2:
          Action: click
          Element: ${LandingPage}${passwordTextElement}
          TestData:
          Remarks: 输入密码文本收起键盘

        step3:
          Action: click
          Element: ${LandingPage}${LoginButtonElement}
          TestData:
          Remarks: 点击登录

      elsebranchProcess:
        step1:
          Action: keyboard
          Element:
          TestData: 123456
          Remarks: 输入验证码

    step10:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step11:
      Action: judge,branch
      Element: ${LandingPage}${PermissionWindowAllowsElement}
      TestData:
      Remarks: 判断是否需要授权权限
      branchProcess:
        step1:
          Action: empowerment
          Element:
          TestData: 1
          Remarks: 给手机授权

    step12:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step13:
      Action: judge,branch
      Element: ${LandingPage}${BiometricCertificationBottonElement}
      TestData:
      Remarks: 判断是否有生物认证弹窗
      branchProcess:
        step1:
          Action: click
          Element:
          TestData:
          Remarks: 点击屏幕中间
        step2:
          Action: click
          Element: ${LandingPage}${BiometricCertificationBottonElement}
          TestData:
          Remarks: 点击生物认证弹窗

    step14:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step15:
      Action: judge,branch
      Element: ${LandingPage}${PermissionWindowAllowsElement}
      TestData:
      Remarks: 判断是否需要授权权限
      branchProcess:
        step1:
          Action: empowerment
          Element:
          TestData: 1
          Remarks: 给手机授权

    step16:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step17:
      Action: judge,branch
      Element: ${LandingPage}${notifyConfirmBottonElement}
      TestData:
      Remarks: 判断是否谷歌服务或者紧张状态账户通知弹窗
      branchProcess:
        step1:
          Action: click
          Element:
          TestData:
          Remarks: 点击屏幕中间
        step2:
          Action: click
          Element: ${LandingPage}${notifyConfirmBottonElement}
          TestData:
          Remarks: 点击谷歌服务或者紧张状态账户通知弹窗

    step18:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step19:
      Action: judge,branch
      Element: ${LandingPage}${PermissionWindowAllowsElement}
      TestData:
      Remarks: 判断是否需要授权权限
      branchProcess:
        step1:
          Action: empowerment
          Element:
          TestData: 1
          Remarks: 给手机授权

    step20:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step21:
      Action: judge,branch
      Element: ${LandingPage}${KeepSMSNotificationsBottonElement}
      TestData:
      Remarks: 判断是否保留推送通知权限弹窗
      branchProcess:
        step1:
          Action: click
          Element:
          TestData:
          Remarks: 点击屏幕中间
        step2:
          Action: click
          Element: ${LandingPage}${KeepSMSNotificationsBottonElement}
          TestData:
          Remarks: 点击保留推送通知权限弹窗

    step22:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step23:
      Action: judge,branch
      Element: ${LandingPage}${PermissionWindowAllowsElement}
      TestData:
      Remarks: 判断是否需要授权权限
      branchProcess:
        step1:
          Action: empowerment
          Element:
          TestData: 1
          Remarks: 给手机授权

    step24:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿5秒

    step25:
      Action: judge,branch
      Element: ${HomePage}${notificationPopupElemnt}
      TestData:
      Remarks: 判断是否含有通知弹窗
      branchProcess:
        step1:
          Action: click
          Element:
          TestData:
          Remarks: 点击屏幕中间
        step2:
          Action: click
          Element: ${HomePage}${notificationPopupElemnt}
          TestData:
          Remarks: 点击通知弹窗

    step26:
      Action: sleep
      Element:
      TestData: 5
      Remarks: 停顿2秒

    step27:
      Action: judge,branch
      Element: ${HomePage}${tipsButtonElement}
      TestData:
      Remarks: 判断提示是否第一次登录，如果有，先点击提示信息
      branchProcess:
        step1:
          Action: click
          Element: ${HomePage}${tipsButtonElement}
          TestData:
          Remarks: 点击提示信息
        step2:
          Action: click
          Element: ${HomePage}${tipsButtonElement}
          TestData:
          Remarks: 点击提示信息
        step3:
          Action: click
          Element: ${HomePage}${tipsButtonElement}
          TestData:
          Remarks: 点击提示信息
        step4:
          Action: click
          Element: ${HomePage}${tipsButtonElement}
          TestData:
          Remarks: 点击提示信息
        step5:
          Action: click
          Element: ${HomePage}${tipsButtonElement}
          TestData:
          Remarks: 点击提示信息

    step28:
      Action: sleep
      Element:
      TestData: 11
      Remarks: 停顿11秒

-
  Step: Then
  Text: 我将登录成功，并且进入了Livi Bank主页1
  Fixture: app
  Process:
    step1:
      Action: get
      Element: ${HomePage}${underHomeButtonElement}
      TestData: [ '主页','主頁','Overview' ]
      Remarks: 断言是否进入主页
-
  Step: And
  Text: 进入设置页面
  Fixture: app
  Process:
    step1:
      Action: get
      Element: ${HomePage}${underHomeButtonElement}
      TestData: [ '主页','主頁','Overview' ]
      Remarks: 断言是否进入主页




